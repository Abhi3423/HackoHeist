<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="apple-touch-icon" sizes="180x180" href="../static/images/logo/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../static/images/logo/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../static/images/logo/favicon-16x16.png">
  <!-- <link rel="manifest" href="/site.webmanifest"> -->
  <link rel="stylesheet" href="/static/css/index.css">
  <link rel="stylesheet" href="/static/css/slideshow.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">

  <script src="/static/js/slideshow.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <title>Caching Analysts-Home</title>
  <style>
    body {
      position: relative;
    }

    .flex-align-left:hover {
      color: white;
      cursor: default;
    }

    #view_projects {
      display: flex;
      text-align: center;
      justify-content: center;
      align-items: center;
      padding-top: 4%;
    }

    .column {
      float: right;
      width: 33.33%;
      padding: 15px;
    }

    #content {
      margin-top: 5%;
      margin-left: 10%;
      margin-right: 10%;
    }
  </style>

</head>

<body id="grade1">
  <nav class="navbar navbar-expand-lg navbar-light"
    style="background-color:#6977f2; position:sticky; top:0px; height:70px; z-index: 100; ">

    <a class="navbar-brand" style="color: white; padding: 0px 10px; font-size: 25px; font-weight: bold;"
      href="#">Caching Analysts</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
      aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarScroll">
      <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html"
            style="color: white; background-color: #6977f2;">Home</a>
        </li>
        <li class="nav-item" style="padding-left: 20px; padding-right: 20px;">
          <a class="nav-link" style="color: white" href="upload_page.html">Upload</a>
        </li>
        <!-- <li class="nav-item dropdown">
                 <a class="nav-link dropdown-toggle" style="color: white;" href="#" id="navbarScrollingDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Link
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>  -->
        <li class="nav-item">
          <a class="nav-link" href="aboutus.html" style="color: white;">About Us</a>
        </li>
      </ul>
      <button onclick="openNav(); check();" id="Login1"
        style="margin: 20px;background-color: white;padding: 6.5px; border-radius: 5px; border-color: #6990F2;">Login /
        Sign up</button>
      <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success   searchh" type="submit"
          style="background-color: white; margin-right: 8px; margin-left: 4px;">Search</button>
      </form>
    </div>
    </div>
  </nav>




  <div id="popup" class="wrapper">
    <a href="#" className="closebtn" id="close" style=" position: absolute;font-size: 3.2vw;margin-left: 20vw;margin-top:-2%;" onClick="closeNav();check();">&times;</a>
    <div id="title" class="title-text">
      <div class="title login">
        Login Form
      </div>
      <div class="title signup">
        Signup Form
      </div>
    </div>
    <div  class="form-container">
      <div id="cont" class="slide-controls">
        <input type="radio" name="slide" id="login" checked>
        <input type="radio" name="slide" id="signup">
        <label for="login" class="slide login">Login</label>
        <label for="signup" class="slide signup">Signup</label>
        <div class="slider-tab"></div>
      </div>
      <div class="form-inner">
        <form action="#" class="login">
          <div class="field">
            <input type="text" placeholder="Email Address" required>
          </div>
          <div class="field">
            <input type="password" placeholder="Password" required>
          </div>
          <div class="pass-link">
            <a href="#">Forgot password?</a>
          </div>
          <div class="field btn">
            <div class="btn-layer"></div>
            <input type="submit" value="Login">
          </div>
          <div class="signup-link">
            Not a member? <a href="">Signup now</a>
          </div>
        </form>
        <form action="#" class="signup">
          <div class="field">
            <input type="text" placeholder="Email Address" required>
          </div>
          <div class="field">
            <input type="password" placeholder="Password" required>
          </div>
          <div class="field">
            <input type="password" placeholder="Confirm password" required>
          </div>
          <div class="field btn">
            <div class="btn-layer"></div>
            <input type="submit" value="Signup">
          </div>
        </form>
      </div>
    </div>
  </div>






  <div class="container1" style="margin-top:-8px;">
    <div id="carouselExampleControls2" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="/static/images/1.jpg" class="d-block w-100" alt="..." style="height: 550px;">
        </div>
        <div class="carousel-item">
          <img src="/static/images/2.jpg" class="d-block w-100" alt="..." style="height: 550px;">
        </div>
        <div class="carousel-item">
          <img src="/static/images/1.jpg" class="d-block w-100" alt="..." style="height: 550px;">
        </div>
        <div class="carousel-item">
          <img src="/static/images/2.jpg" class="d-block w-100" alt="..." style="height: 550px;">
        </div>
      </div>
      <button class="carousel-control-prev" id="prev" type="button" data-bs-target="#carouselExampleControls"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

  </div>






  <!-- <div class="container my-5" >
        <div class="row">
            <div class="col-md-4">
                <ul id="list-example" class="list-group" style="text-align: center;">
                    <a class="list-group-item list-group-item-action" href="#list-item-1">Item 1</a>
                    <a class="list-group-item list-group-item-action" href="#list-item-2">Item 2</a>
                    <a class="list-group-item list-group-item-action" href="#list-item-3">Item 3</a>
                    <a class="list-group-item list-group-item-action" style="background-color: white;  color: black; margin: 0px; border: 0px;" href="#list-item-4">Item 4</a>
                </ul>
            </div>
            <div class="col-md-8">
                <div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-offset="0" class="scrollspy-example" tabindex="0">
                    <h4 id="list-item-1">Item 1</h4>
                    <p>      
                        <div class="mx-5">
                        <span class="card" style="width: 70%; height: 600px;">
                          <div class="card-img-top">
                              <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                                  <div class="carousel-inner">
                                    <div class="carousel-item active">
                                      <img src="/static/images/page0.jpg" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                      <img src="/static/images/page1.jpg" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                      <img src="/static/images/page1.jpg" class="d-block w-100" alt="...">
                                    </div>
                                  </div>
                                  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                  </button>
                                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                  </button>
                                </div>
                          </div>
                          <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <button href="#" id='download' onclick="download(1)" class="btn btn-primary">Go somewhere</button>
                          </div>
                        </span>
                            
                      </div>
                    </p>
                    
                    <h4 id="list-item-2">Item 2</h4>
                    <p>...</p>
                    <h4 id="list-item-3">Item 3</h4>
                    <p>...</p>
                    <h4 id="list-item-4">Item 4</h4>
                    <p>...</p>
                  
                  </div>
            </div>
        </div>
    </div> -->

  <div class="shadow p-3 mb-5 bg-body rounded" id="content">
    <div class="row">
      <div class="column">
        <p style="margin-left:5%">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum
          has been the
          industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
          scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into
          electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of
          Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus
          PageMaker including versions of Lorem Ipsum.</p>
      </div>
      <div class="column">
        <img src="./static/images/plag_img.jpg" alt="">
      </div>
    </div>
  </div>


  <div id="view_projects">
    <button type="button" class="btn btn-primary btn-lg" onclick="openprojects()">View Projects</button>
  </div>
  <div class="container my-5" id="projects" style="display: none;">
    <div class="row" id="boxes">
    </div>
  </div>

  <div class="bu">
    <h2><span>Documents</span></h2>
  </div>

  <section class="testimonial">
    <div class="container">

      <div class="row">
        <div class="clients-carousel owl-carousel">
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
          <div class="single-box">

          </div>
        </div>
      </div>
    </div>
    </div>
  </section>





  <div class="nav justify-content-end mx-4">
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav>
  </div>

  <footer>
    <a href="faq.html">FAQ</a>
    <a href="contact_us.html">Contact Us</a>
    <a href="privacy.html">Privacy Policy</a>
    <a href="aboutus.html">About Us</a>
    <a href="#" class="flex-align-left">&copy; 2022 | Caching Analyst</a>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/owl.carousel.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js">
  </script>
  <script>
    function openprojects() {
      var x = document.getElementById("projects");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }

    function openNav() {
      document.getElementById("popup").style.width = "390px";
    }

    function closeNav() {
      document.getElementById("popup").style.width = "0";
    }

    function check() {
      console.log(5);
      var element= document.getElementById("grade1");
      element.classList.toggle("active");
      var popup2 = (document.querySelectorAll("#popup, #cont, #title"));
      popup2.forEach(x => x.classList.toggle("active"));
      console.log(8);
    }

  </script>
  <script>
    $('.clients-carousel').owlCarousel({
      loop: true,
      nav: false,
      autoplay: true,
      autoplayTimeout: 5000,
      animateOut: 'fadeOut',
      animateIn: 'fadeIn',
      smartSpeed: 450,
      margin: 30,
      responsive: {
        0: {
          items: 1
        },
        768: {
          items: 2
        },
        991: {
          items: 2
        },
        1200: {
          items: 3
        },
        1920: {
          items: 4
        }
      }
    });


  </script>
  <script>

    var slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      var i;
      var slides = document.getElementsByClassName("slider");
      var dots = document.getElementsByClassName("dot");

      if (n > slides.length) { slideIndex = 1 }
      if (n < 1) { slideIndex = slides.length }
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
      }

      slides[slideIndex - 1].style.display = "block";
      dots[slideIndex - 1].className += " active";

    }

    const myTimeout = setTimeout(plusSlides(1), 5000)


  </script>

  <script>

    var name_json
    var plager_json

    function ajax() {
      var xhr = new XMLHttpRequest()
      xhr.open('GET', '/static/json/pdf_name.json', true)

      xhr.onload = function () {
        jsondata = JSON.parse(this.responseText)

        name_json = jsondata
      }
      xhr.send()
      return 0
    }

    function ajax2() {
      var xhr = new XMLHttpRequest()
      xhr.open('GET', '/static/json/plager.json', true)

      xhr.onload = function () {
        jsondata2 = JSON.parse(this.responseText)

        plager_json = jsondata2
      }
      xhr.send()
      return 0
    }


    async function downloader(pointer) {

      const pdf_response = await fetch(`/`, { method: 'POST', body: String(pointer), headers: { 'Content-Type': 'text/plain' } })

      const response = await pdf_response.blob()

      return response
    }

    function download(notation) {
      downloader(notation).then(blob => {
        var url = window.URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        note = String(notation)
        a.download = name_json[note];
        document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox
        a.click();
        a.remove();
      })
    }


    async function run_js() {
      const fist = await ajax()
      const fist2 = await ajax2()
      const mytimeout = setTimeout(addbox, 1500)
    }

    function addbox() {
      console.log(name_json)
      var nopdf = Object.keys(name_json).length
      for (let i = 1; i < nopdf; i++) {
        const div = document.createElement('div');

        div.className = "col-md-4";


        div.innerHTML = `
            <div class="mx-5 mt-4">
              <span class="card" style="width: 18rem;">
                <div class="card-img-top">
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <img src="/static/images/pdf_images/${name_json[i]}/page0.jpg" class="d-block w-100 h-100" alt="...">
                          </div>
                          <div class="carousel-item">
                            <img src="/static/images/pdf_images/${name_json[i]}/page1.jpg" class="d-block w-100 h-100" alt="...">
                          </div>
                          <div class="carousel-item">
                            <img src="/static/images/pdf_images/${name_json[i]}/page2.jpg" class="d-block w-100 h-100" alt="...">
                          </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                      </div>
                </div>
                <div class="card-body">
                  <h5 class="card-title">${name_json[i]}</h5>
                  <p class="card-text">${plager_json[name_json[i]]}</p>
                  <button href="#" class="btn btn-primary" onclick= "download(${i})">Download</button>
                </div>
              </span>
            </div>
          `;

        document.getElementById('boxes').appendChild(div);


      }



    }


    run_js()
  </script>

</body>

</html>